{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Our Projects - Vishwakarma Mechfab</title>
    <link rel="stylesheet" href="{% static 'css/styles.css' %}">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Header (Same as main page) -->
    <header class="header" id="header">
        <nav class="nav container">
            <div class="nav__brand">
                <img src="https://res.cloudinary.com/dxtx1kkwy/image/upload/v1736579637/VISHVAKRMAtempFEVICON-removebg-preview_wsihip.png" alt="Vishwakarma Mechfab" class="nav__logo-img">
            </div>
            
            <div class="nav__menu" id="nav-menu">
                <ul class="nav__list">
                    <li class="nav__item">
                        <a href="{% url 'vmf_app:index' %}#home" class="nav__link">Home</a>
                    </li>
                    <li class="nav__item">
                        <a href="{% url 'vmf_app:index' %}#services" class="nav__link">Services</a>
                    </li>
                    <li class="nav__item">
                        <a href="{% url 'vmf_app:index' %}#about" class="nav__link">About</a>
                    </li>
                    <li class="nav__item">
                        <a href="#" class="nav__link active-link">Projects</a>
                    </li>
                    <li class="nav__item">
                        <a href="{% url 'vmf_app:index' %}#clients" class="nav__link">Clients</a>
                    </li>
                    <li class="nav__item">
                        <a href="{% url 'vmf_app:index' %}#contact" class="nav__link">Contact</a>
                    </li>
                </ul>
            </div>
        </nav>
    </header>

    <main class="main">
        <section class="projects-page section">
            <div class="projects__container container">
                <div class="back-button">
                    <a href="{% url 'vmf_app:index' %}" class="btn btn--secondary">← Back to Main Page</a>
                </div>
                <div class="section__header">
                    <span class="section__subtitle">Our Portfolio</span>
                    <h1 class="section__title">All Projects</h1>
                    <p class="section__description">
                        Explore our complete portfolio of successful projects and implementations
                    </p>
                </div>

                <div class="projects__grid">
                    {% if projects %}
                        {% for project in projects %}
                        <div class="project__card" data-project="{{ project.slug }}">
                            <div class="project__image">
                                <img src="{{ project.get_image_url }}" alt="{{ project.title }}" class="project__img">
                                <div class="project__overlay">
                                    <span class="project__category">{{ project.category }}</span>
                                </div>
                            </div>
                            <div class="project__content">
                                <h3 class="project__title">{{ project.title }}</h3>
                                <p class="project__description">
                                    {{ project.short_description }}
                                </p>
                                <button class="project__btn btn btn--secondary" onclick="openModal('{{ project.slug }}')">
                                    Read More
                                </button>
                            </div>
                        </div>
                        {% endfor %}
                    {% else %}
                        <div class="empty-state">
                            <p>No projects available at the moment. Check back soon!</p>
                        </div>
                    {% endif %}
                </div>
            </div>
        </section>
    </main>

    <!-- Project Modal (Same as main page) -->
    <div id="projectModal" class="modal">
        <div class="modal__content">
            <span class="modal__close">&times;</span>
            <div class="modal__body">
                <div class="modal__image">
                    <img id="modalImage" src="" alt="Project Image">
                </div>
                <div class="modal__details">
                    <span id="modalCategory" class="modal__category"></span>
                    <h2 id="modalTitle" class="modal__title"></h2>
                    <p id="modalDescription" class="modal__description"></p>
                    <div id="modalSpecs" class="modal__specs"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer__container container">
            <div class="footer__content">
                <div class="footer__section">
                    <h3 class="footer__title">Vishwakarma Mechfab</h3>
                    <p class="footer__description">
                        Professional mechanical engineering and fabrication solutions for industrial excellence. 
                        Your trusted partner in engineering innovation.
                    </p>
                </div>

                <div class="footer__section">
                    <h4 class="footer__subtitle">Working Hours</h4>
                    <ul class="footer__list">
                        <li class="footer__info">
                            <svg class="footer__icon" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2zm0 18c-4.4 0-8-3.6-8-8s3.6-8 8-8 8 3.6 8 8-3.6 8-8 8z"/>
                                <path d="M12.5 7H11v6l5.2 3.2.8-1.3-4.5-2.7V7z"/>
                            </svg>
                            <span>Mon - Sat: 9:00 AM - 6:00 PM</span>
                        </li>
                        <li class="footer__info">
                            <svg class="footer__icon" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"/>
                            </svg>
                            <span>Sunday: Closed</span>
                        </li>
                    </ul>
                </div>
            </div>
            
            <div class="footer__bottom">
                <p class="footer__copy">
                    © 2024 Vishwakarma Mechfab. All rights reserved.
                </p>
                <h3>
                <p class="footer__credit">
                    Developed by Kavy Gajjar & Bhavansi Jethva
                </p>
                </h3>
            </div>
        </div>
    </footer>

    <script src="{% static 'js/script.js' %}"></script>
</body>
</html>
